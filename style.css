@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

:root{
  --accent:#0077ff;
  --bg:#f5f7fa;
  --card:#ffffff;
  --text:#333;
  --muted:#6b7280;
  --table:#f0f4ff;
  --chip:#e8f0ff;
  --chipText:#0b4abf;
  --danger:#e03131;
  --ok:#0ca678;
  --warn:#f59f00;
}

body.dark{
  --accent:#0d99ff;
  --bg:#1c1f26;
  --card:#2b2f3b;
  --text:#f3f6ff;
  --muted:#c6c9d4;
  --table:#20232c;
  --chip:#263248;
  --chipText:#9cc2ff;
}

*{box-sizing:border-box}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:'Poppins',sans-serif;
  display:flex;min-height:100vh;align-items:center;justify-content:center;
  transition:background .3s,color .3s;
}

.card{
  background:var(--card);
  padding:2rem 1.4rem;
  border-radius:1rem;
  max-width:760px;width:96%;
  box-shadow:0 16px 32px rgba(0,0,0,.12);
  transform:translateY(24px);opacity:0;animation:rise .6s .1s forwards ease-out;
}
@keyframes rise{to{transform:none;opacity:1}}

.header{
  display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;
}
.header-actions{display:flex;gap:.5rem}
.link-btn{
  background:transparent;border:none;color:var(--accent);cursor:pointer;font-weight:600;
}
.link-btn:hover{opacity:.85}

.theme-switch{
  position:absolute;top:16px;right:20px;width:50px;height:26px;
}
.theme-switch input{display:none}
.slider{
  position:absolute;cursor:pointer;inset:0;border-radius:34px;background:#ccc;transition:.4s;
}
.slider:before{
  content:'';position:absolute;height:20px;width:20px;left:4px;bottom:3px;background:white;border-radius:50%;transition:.4s;
}
input:checked+.slider{background:var(--accent)}
input:checked+.slider:before{transform:translateX(24px)}

.unit-row{display:flex;gap:.6rem;margin-bottom:.6rem}
.chip{
  display:inline-flex;align-items:center;gap:.4rem;
  background:var(--chip);color:var(--chipText);
  border-radius:999px;padding:.35rem .6rem;font-size:.9rem;cursor:pointer;
  user-select:none;
}
.chip input{accent-color:var(--accent)}

.grid{
  display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin:.6rem 0 1rem;
}
.row{display:flex;gap:.5rem}

.field{display:flex;flex-direction:column}
.field input,.field select{
  padding:.65rem .9rem;border:2px solid #d9e4ff;border-radius:.55rem;
  background:transparent;color:var(--text);font-size:1rem;
}
.hint{color:var(--muted);min-height:1em;font-size:.8rem;margin-top:.25rem}

.actions{display:flex;gap:.6rem}
.primary{
  width:100%;padding:.8rem;border:none;border-radius:.55rem;background:var(--accent);color:#fff;font-weight:600;cursor:pointer;
}
.primary:hover{opacity:.95}
.ghost{
  width:40%;padding:.8rem;border:2px solid #aac6ff;border-radius:.55rem;background:transparent;color:var(--accent);font-weight:600;cursor:pointer;
}
.ghost:hover{background:rgba(0,0,0,.03)}

.hidden{display:none}

.result-top{
  display:flex;gap:1rem;align-items:center;margin-top:.8rem;margin-bottom:.6rem;
  flex-wrap:wrap;
}
.result-text p{margin:.1rem 0}
#bmiVal{font-size:1.3rem;font-weight:600}
#category{font-weight:600}
#normalRange{color:var(--muted)}

table{
  width:100%;margin-top:.6rem;border-collapse:collapse;background:var(--table);
  border-radius:.5rem;overflow:hidden;
}
th,td{padding:.55rem .6rem;font-size:.92rem}
thead{background:rgba(0,0,0,.06)}
tbody tr:nth-child(even){background:rgba(0,0,0,.04)}

.share-row{display:flex;gap:.8rem;margin-top:.6rem}

/* Gauge */
.gauge{
  width:180px;height:90px;position:relative;display:grid;place-items:center;
}
.gauge-bg{fill:none;stroke:#dbe4ff;stroke-width:14;stroke-linecap:round}
.gauge-fill{fill:none;stroke:var(--accent);stroke-width:14;stroke-linecap:round;transition:stroke-dasharray .5s ease}
.gauge-label{
  position:absolute;bottom:6px;font-weight:700;font-size:1.1rem;background:var(--card);
  padding:.2rem .5rem;border-radius:.4rem;box-shadow:0 6px 14px rgba(0,0,0,.08);
}

/* About dialog */
dialog::backdrop{background:rgba(0,0,0,.45)}
dialog{
  border:none;border-radius:12px;padding:0;background:transparent;
}
.about-card{
  background:var(--card);color:var(--text);
  padding:1.2rem 1.2rem 1rem;border-radius:12px;max-width:560px;
  box-shadow:0 24px 50px rgba(0,0,0,.32);
}
.about-list{color:var(--muted)}
.about-actions{display:flex;justify-content:flex-end;margin-top:1rem}
@media (max-width:680px){.grid{grid-template-columns:1fr}.ghost{width:100%}}
